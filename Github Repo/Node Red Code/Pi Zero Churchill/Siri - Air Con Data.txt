[{"id":"a96cc8e5.8e04e8","type":"inject","z":"5ac122e9.edb06c","name":"Zone One On","topic":"","payload":"zone one on","payloadType":"str","repeat":"","crontab":"","once":false,"x":144.3333282470703,"y":442.66669178009033,"wires":[["3ee6c553.78f79a"]]},{"id":"7d05e2b7.3c73fc","type":"function","z":"5ac122e9.edb06c","name":"Set Cooling Temp","func":"var msg = msg.payload;\nif (msg > 0 )\n    {\n    node.send ({payload:[\"Aircon set temp cooling \" + msg]});\n    }\nreturn null;","outputs":1,"noerr":0,"x":824.4444427490234,"y":333.33331871032715,"wires":[["f5f3d6df.a41328"]]},{"id":"b99a196.2dd02e8","type":"function","z":"5ac122e9.edb06c","name":"Split Data -  Air Conditioner Heat Cooling Selection","func":"// seperate string in arrays and find how many elements in array\nvar msgdata = msg.payload.split(\" \");\nvar datalength = msgdata.length;\nvar aircon_ctl = 0;\nfor (i = 0; i < msgdata.length; i++) // look for the word one\n    { \n    if (msgdata[i] == \"Aircon\")\n        {\n        var Aircon_index = i;\n        aircon_ctl = 1;\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word on\n    { \n    if (msgdata[i] == \"on\")\n        {\n        var on_index = i;\n        var aircon_pwr = 'on';\n        //node.send ({payload:[\"Aircon on\"]});\n        }\n    }\nfor (i = 0; i < msgdata.length; i++) // look for the word off\n    { \n    if (msgdata[i] == \"off\")\n        {\n        var off_index = i;\n        var aircon_pwr = 'off';\n        //node.send ({payload:[\"Aircon off\"]});\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word heat\n    { \n    if (msgdata[i] == \"heat\")\n        {\n        var heat_index = i;\n        var aircon_mode = 'heat';\n        //node.send ({payload:[\"Aircon heating\"]});\n        }\n    }\nfor (i = 0; i < msgdata.length; i++) // look for the word cool\n    { \n    if (msgdata[i] == \"cool\")\n        {\n        var heat_index = i;\n        var aircon_mode = 'cool';\n        //node.send ({payload:[\"Aircon cooling\"]});\n        }\n    }\n\n\nif (aircon_ctl == 1)\n    {\n    if (aircon_pwr == 'on')\n        {\n        node.send ({payload:[\"Aircon on\"]});\n        }\n    if (aircon_pwr == 'off')\n        {\n        node.send ({payload:[\"Aircon off\"]});\n        }\n    }\n\nif (aircon_mode == 'cool')\n    {\n    if (aircon_pwr == 'on')\n        {\n        node.send ({payload:[\"Aircon cooling on\"]});\n        }\n    if (aircon_pwr == 'off')\n        {\n        node.send ({payload:[\"Aircon cooling off\"]});\n        }\n    }\nif (aircon_mode == 'heat')\n    {\n    if (aircon_pwr == 'on')\n        {\n        node.send ({payload:[\"Aircon heating on\"]});\n        }\n    if (aircon_pwr == 'off')\n        {\n        node.send ({payload:[\"Aircon heating off\"]});\n        }\n    }\n\nreturn [null];","outputs":"1","noerr":0,"x":732.833366394043,"y":791.0634803771973,"wires":[["f117d169.235a3","4e74d202.6b920c"]]},{"id":"ffff86b7.141d58","type":"inject","z":"5ac122e9.edb06c","name":"Preset Cooling","topic":"","payload":"preset cool","payloadType":"str","repeat":"","crontab":"","once":false,"x":152.85714721679688,"y":891.4285888671875,"wires":[["248eb302.e4e6bc"]]},{"id":"8be8164d.5b7228","type":"inject","z":"5ac122e9.edb06c","name":"Cooling Down","topic":"","payload":"cool down","payloadType":"str","repeat":"","crontab":"","once":false,"x":142.1666717529297,"y":702.1111106872559,"wires":[["71d5fe63.1087e"]]},{"id":"f117d169.235a3","type":"debug","z":"5ac122e9.edb06c","name":"","active":false,"console":"false","complete":"false","x":1173.3096389770508,"y":507.37702465057373,"wires":[]},{"id":"ecbb42c.51ab0c","type":"function","z":"5ac122e9.edb06c","name":"Get Zone Settings","func":"// seperate string in arrays and find how many elements in array\nvar msgdata = msg.payload.split(\":\");\n\nvar datalength = msgdata.length;\n\nfor (i = 0; i < msgdata.length; i++) // look for the words cool value\n    { \n    if (msgdata[i] == \"ACZONES\")\n        {\n        var zone_index = i;\n        var zone_mode = 'zone';\n        var zone_one = msgdata[i+1];\n        var zone_two = msgdata[i+2];\n        //node.send ({payload:[current_temp]}); \n        }\n    }\n\nreturn [null];","outputs":"1","noerr":0,"x":849.4443969726562,"y":162.66665077209473,"wires":[[]]},{"id":"4eae6edb.ebc09","type":"inject","z":"5ac122e9.edb06c","name":"Cooling Off","topic":"","payload":"cool off","payloadType":"str","repeat":"","crontab":"","once":false,"x":145.1666717529297,"y":852.1111135482788,"wires":[["b99a196.2dd02e8"]]},{"id":"32f8b809.5a9ec8","type":"link in","z":"5ac122e9.edb06c","name":"Temp Data from AMX","links":["294c21df.288d3e"],"x":364.6667342185974,"y":124.95239448547363,"wires":[["b98233f2.4cead","7e009f13.eaa2c"]]},{"id":"8bb1e45f.3a9418","type":"function","z":"5ac122e9.edb06c","name":"Split Data -  Air Conditioner Temperature Controls","func":"// seperate string in arrays and find how many elements in array\nvar msgdata = msg.payload.split(\" \");\nvar datalength = msgdata.length;\nvar preset_mode = \"\";\nvar aircon_ctl = \"\";\nfor (i = 0; i < msgdata.length; i++) // look for the word temp\n    { \n    if (msgdata[i] == \"temp\")\n        {\n        var ctl_index = i;\n        aircon_ctl = 'temp';\n        }\n    }\nfor (i = 0; i < msgdata.length; i++) // look for the word temp\n    { \n    if (msgdata[i] == \"temperature\")\n        {\n        var ctl_index = i;\n        aircon_ctl = 'temp';\n        }\n    }\nfor (i = 0; i < msgdata.length; i++) // look for the word heat\n    { \n    if (msgdata[i] == \"heat\")\n        {\n        var heat_index = i;\n        var aircon_mode = 'heat';\n        }\n    }\nfor (i = 0; i < msgdata.length; i++) // look for the word heating\n    { \n    if (msgdata[i] == \"heating\")\n        {\n        var heat_index = i;\n        var aircon_mode = 'heat';\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word cooling\n    { \n    if (msgdata[i] == \"cooling\")\n        {\n        var cool_index = i;\n        var aircon_mode = 'cool';\n        }\n    }\nfor (i = 0; i < msgdata.length; i++) // look for the word cool\n    { \n    if (msgdata[i] == \"cool\")\n        {\n        var cool_index = i;\n        var aircon_mode = 'cool';\n        }\n    }\n    \nfor (i = 0; i < msgdata.length; i++) // look for the word preset\n    { \n    if (msgdata[i] == \"preset\")\n        {\n        var preset_index = i;\n        preset_mode = 'preset';\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word up\n    { \n    if (msgdata[i] == \"up\")\n        {\n        var sliding_temp_index = i;\n        var sliding_aircon_temp = 'up';\n        }\n    }\n    \nfor (i = 0; i < msgdata.length; i++) // look for the word down\n    { \n    if (msgdata[i] == \"down\")\n        {\n        var sliding_temp_index = i;\n        var sliding_aircon_temp = 'down';\n        }\n    }\n\nif (aircon_mode == 'cool')\n    {\n    if (sliding_aircon_temp == 'up')\n        {\n        node.send ({payload:[\"Aircon cooling up\"]});\n        }\n    if (sliding_aircon_temp == 'down')\n        {\n        node.send ({payload:[\"Aircon cooling down\"]});\n        }\n    }\n\nif (aircon_mode == 'heat')\n    {\n    if (sliding_aircon_temp == 'up')\n        {\n        node.send ({payload:[\"Aircon heating up\"]});\n        }\n    if (sliding_aircon_temp == 'down')\n        {\n        node.send ({payload:[\"Aircon heating down\"]});\n        }\n    }\n\nif (preset_mode == 'preset')\n    {\n    if (aircon_mode == 'heat')\n        {\n        node.send ({payload:[\"Aircon heating preset\"]});\n        }\n    if (aircon_mode == 'cool')\n        {\n        node.send ({payload:[\"Aircon cooling preset\"]});\n        }\n    }\n\nreturn [null];","outputs":"1","noerr":0,"x":725.4047698974609,"y":643.6706390380859,"wires":[["f117d169.235a3","4e74d202.6b920c"]]},{"id":"ab5fda76.350968","type":"debug","z":"5ac122e9.edb06c","name":"","active":false,"console":"false","complete":"false","x":830.4921836853027,"y":202.17462539672852,"wires":[]},{"id":"77a88842.12fdc8","type":"ui_button","z":"5ac122e9.edb06c","name":"Heat Down","group":"5f2a96a5.3dbd08","order":3,"width":"3","height":"1","passthru":true,"label":"Heat Down","color":"#FFF0F0","bgcolor":"#E9967A","icon":"","payload":"heat down","payloadType":"str","topic":"","x":333.3333053588867,"y":630.3809201717377,"wires":[["8bb1e45f.3a9418"]]},{"id":"c00be90b.b10c78","type":"ui_gauge","z":"5ac122e9.edb06c","name":"Heat Set Point","group":"5f2a96a5.3dbd08","order":1,"width":"3","height":"3","gtype":"gage","title":"Heat Set","label":"celcius","format":"{{value}}","min":"10","max":"35","colors":["#00b500","#e6e600","#ca3838"],"seg1":"17","seg2":"19","x":1185.6668090820312,"y":75.09524726867676,"wires":[]},{"id":"c4d5f8bc.aaf178","type":"inject","z":"5ac122e9.edb06c","name":"Zone Two On","topic":"","payload":"zone two on","payloadType":"str","repeat":"","crontab":"","once":false,"x":145.1666717529297,"y":519.1111087799072,"wires":[["3ee6c553.78f79a"]]},{"id":"71d5fe63.1087e","type":"ui_button","z":"5ac122e9.edb06c","name":"Cool Down","group":"5f2a96a5.3dbd08","order":7,"width":"3","height":"1","passthru":true,"label":"Cool Down","color":"#DEBD5C","bgcolor":"#E6E0F8","icon":"","payload":"cool down","payloadType":"str","topic":"","x":335.47620391845703,"y":702.3810362815857,"wires":[["8bb1e45f.3a9418"]]},{"id":"2158a87d.c58058","type":"function","z":"5ac122e9.edb06c","name":"Get Current Temperature","func":"// seperate string in arrays and find how many elements in array\nvar msgdata = msg.payload.split(\":\");\n\nvar datalength = msgdata.length;\n\nfor (i = 0; i < msgdata.length; i++) // look for the words cool value\n    { \n    if (msgdata[i] == \"TEMPS\")\n        {\n        var temp_index = i;\n        var temperature_mode = 'temp';\n        //var current_temp_value = 22;\n        var current_temp = msgdata[i+1];\n        //var heatset_temp = msgdata[i+2];\n        //var coolset_temp = msgdata[i+3];\n        node.send ({payload:[current_temp]}); \n        }\n    }\n\nreturn [null];","outputs":"1","noerr":0,"x":867.3809585571289,"y":124.28570365905762,"wires":[["9d3be587.1b4aa8","57b9c1f2.1d306"]]},{"id":"fbd962a2.54ffe","type":"function","z":"5ac122e9.edb06c","name":"Set Heating Temp","func":"var msg = msg.payload;\nif (msg > 0 )\n    {\n    node.send ({payload:[\"Aircon set temp heating \" + msg]});\n    }\nreturn null;","outputs":1,"noerr":0,"x":824.0557327270508,"y":292.3333330154419,"wires":[["f5f3d6df.a41328"]]},{"id":"b98233f2.4cead","type":"switch","z":"5ac122e9.edb06c","name":"","property":"payload","propertyType":"msg","rules":[{"v":"TEMPS","vt":"str","t":"cont"}],"checkall":"true","outputs":1,"x":521.0953941345215,"y":120.1905345916748,"wires":[["887c0fad.f0e15","2158a87d.c58058","f761c926.cb0d78","ab5fda76.350968","ecbb42c.51ab0c"]]},{"id":"f761c926.cb0d78","type":"function","z":"5ac122e9.edb06c","name":"Get Cool Set Point","func":"// seperate string in arrays and find how many elements in array\nvar msgdata = msg.payload.split(\":\");\n\nvar datalength = msgdata.length;\n\nfor (i = 0; i < msgdata.length; i++) // look for the words cool value\n    { \n    if (msgdata[i] == \"TEMPS\")\n        {\n        var cool_index = i;\n        var temperature_mode = 'coolset';\n        //var current_temp_value = 22;\n        //var current_temp = msgdata[i+1];\n        //var heatset_temp = msgdata[i+2];\n        var coolset_temp = msgdata[i+3];\n        node.send ({payload:[coolset_temp]}); \n        }\n    }\n\nreturn [null];","outputs":"1","noerr":0,"x":850.2857360839844,"y":87.80952835083008,"wires":[["1bb57379.4c08bd","6e4aa97a.7bbf28"]]},{"id":"d40b30ec.b0713","type":"ui_button","z":"5ac122e9.edb06c","name":"Heat Up","group":"5f2a96a5.3dbd08","order":2,"width":"3","height":"1","passthru":true,"label":"Heat Up","color":"Red","bgcolor":"#E9967A","icon":"","payload":"heat up","payloadType":"str","topic":"","x":324.33336639404297,"y":591.5238237380981,"wires":[["8bb1e45f.3a9418"]]},{"id":"3ee6c553.78f79a","type":"function","z":"5ac122e9.edb06c","name":"Split Data -  Air Conditioner Zone stuff","func":"// seperate string in arrays and find how many elements in array\nvar msgdata = msg.payload.split(\" \");\nvar datalength = msgdata.length;\n\nfor (i = 0; i < msgdata.length; i++) // look for the word one\n    { \n    if (msgdata[i] == \"Zone\")\n        {\n        var Aircon_index = i;\n        //var relay_number = 1;\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word on\n    { \n    if (msgdata[i] == \"on\")\n        {\n        var on_index = i;\n        var aircon_pwr = 'on';\n        //node.send ({payload:[\"Aircon on\"]});\n        }\n    }\nfor (i = 0; i < msgdata.length; i++) // look for the word off\n    { \n    if (msgdata[i] == \"off\")\n        {\n        var off_index = i;\n        var aircon_pwr = 'off';\n        //node.send ({payload:[\"Aircon off\"]});\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word zone 1\n    { \n    if (msgdata[i] == \"one\")\n        {\n        var zone_index = i;\n        var aircon_zone = 1;\n        //node.send ({payload:[\"Aircon zone 1\"]});\n        }\n    }\nfor (i = 0; i < msgdata.length; i++) // look for the word to\n    { \n    if (msgdata[i] == \"to\")\n        {\n        var zone_index = i;\n        var aircon_zone = 2;\n        //node.send ({payload:[\"Aircon zone 2\"]});\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word zone 2\n    { \n    if (msgdata[i] == \"two\")\n        {\n        var zone_index = i;\n        var aircon_zone = 2;\n        //node.send ({payload:[\"Aircon zone 2\"]});\n        }\n    }\n\nif (aircon_zone == 1)\n    {\n    if (aircon_pwr == 'on')\n        {\n        node.send ({payload:[\"Aircon zone 1 on\"]});    \n        }\n    if (aircon_pwr == 'off')\n        {\n        node.send ({payload:[\"Aircon zone 1 off\"]});    \n        }\n    }\nif (aircon_zone == 2)\n    {\n    if (aircon_pwr == 'on')\n        {\n        node.send ({payload:[\"Aircon zone 2 on\"]});    \n        }\n    if (aircon_pwr == 'off')\n        {\n        node.send ({payload:[\"Aircon zone 2 off\"]});    \n        }\n    }\n\nreturn [null];","outputs":"1","noerr":0,"x":695.2142944335938,"y":511.4444456100464,"wires":[["f117d169.235a3","4e74d202.6b920c"]]},{"id":"9141024.e27a3","type":"inject","z":"5ac122e9.edb06c","name":"Heating Off","topic":"","payload":"heat off","payloadType":"str","repeat":"","crontab":"","once":false,"x":151.1666717529297,"y":775.1111125946045,"wires":[["b99a196.2dd02e8"]]},{"id":"c2184349.233d4","type":"inject","z":"5ac122e9.edb06c","name":"Zone One Off","topic":"","payload":"zone one off","payloadType":"str","repeat":"","crontab":"","once":false,"x":145.1666717529297,"y":480.11110496520996,"wires":[["3ee6c553.78f79a"]]},{"id":"a8a34fec.88265","type":"inject","z":"5ac122e9.edb06c","name":"Heating Up","topic":"","payload":"heat up","payloadType":"str","repeat":"","crontab":"","once":false,"x":153.1666717529297,"y":591.1111097335815,"wires":[["d40b30ec.b0713"]]},{"id":"2b03abe4.7141d4","type":"inject","z":"5ac122e9.edb06c","name":"Zone Two Off","topic":"","payload":"zone two off","payloadType":"str","repeat":"","crontab":"","once":false,"x":146.1666717529297,"y":554.1111106872559,"wires":[["3ee6c553.78f79a"]]},{"id":"6e4aa97a.7bbf28","type":"debug","z":"5ac122e9.edb06c","name":"","active":false,"console":"false","complete":"false","x":1174.1428527832031,"y":111.42856550216675,"wires":[]},{"id":"9edf4a5d.e6e848","type":"inject","z":"5ac122e9.edb06c","name":"Cooling On","topic":"","payload":"cool on","payloadType":"str","repeat":"","crontab":"","once":false,"x":150.1666717529297,"y":813.1111125946045,"wires":[["b99a196.2dd02e8"]]},{"id":"b187ac6b.e692d","type":"inject","z":"5ac122e9.edb06c","name":"Preset Heating","topic":"","payload":"preset heat","payloadType":"str","repeat":"","crontab":"","once":false,"x":160,"y":931.4285888671875,"wires":[["e394508e.db86d"]]},{"id":"7040a93a.e0fa18","type":"debug","z":"5ac122e9.edb06c","name":"","active":false,"console":"false","complete":"false","x":1173.3809356689453,"y":36.09525012969971,"wires":[]},{"id":"1342a1b5.9d57ae","type":"function","z":"5ac122e9.edb06c","name":"Split Data -  Air Conditioner Heat Cooling","func":"// seperate string in arrays and find how many elements in array\nvar msgdata = msg.payload.split(\" \");\nvar datalength = msgdata.length;\n\nfor (i = 0; i < msgdata.length; i++) // look for the word one\n    { \n    if (msgdata[i] == \"Aircon\")\n        {\n        var Aircon_index = i;\n        var relay_number = 1;\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word on\n    { \n    if (msgdata[i] == \"on\")\n        {\n        var on_index = i;\n        var aircon_pwr = 'on';\n        node.send ({payload:[\"Aircon on\"]});\n        }\n    }\nfor (i = 0; i < msgdata.length; i++) // look for the word off\n    { \n    if (msgdata[i] == \"off\")\n        {\n        var off_index = i;\n        var aircon_pwr = 'off';\n        node.send ({payload:[\"Aircon off\"]});\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word heat\n    { \n    if (msgdata[i] == \"heat\")\n        {\n        var heat_index = i;\n        var aircon_mode = 'heat';\n        node.send ({payload:[\"Aircon heating\"]});\n        }\n    }\nfor (i = 0; i < msgdata.length; i++) // look for the word cool\n    { \n    if (msgdata[i] == \"cool\")\n        {\n        var heat_index = i;\n        var aircon_mode = 'cool';\n        node.send ({payload:[\"Aircon cooling\"]});\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word up\n    { \n    if (msgdata[i] == \"up\")\n        {\n        var sliding_temp_index = i;\n        var sliding_aircon_temp = 'up';\n        node.send ({payload:[\"Aircon temp up\"]});\n        }\n    }\nfor (i = 0; i < msgdata.length; i++) // look for the word down\n    { \n    if (msgdata[i] == \"down\")\n        {\n        var sliding_temp_index = i;\n        var sliding_aircon_temp = 'down';\n        node.send ({payload:[\"Aircon temp down\"]});\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word 19\n    { \n    if (msgdata[i] == \"19\")\n        {\n        var temp_index = i;\n        var aircon_temp = '19';\n        node.send ({payload:[\"Aircon temp 19\"]});\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word 20\n    { \n    if (msgdata[i] == \"20\")\n        {\n        var temp_index = i;\n        var aircon_temp = '20';\n        node.send ({payload:[\"Aircon temp 20\"]});\n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the word 21\n    { \n    if (msgdata[i] == \"21\")\n        {\n        var temp_index = i;\n        var aircon_temp = '21';\n        node.send ({payload:[\"Aircon temp 21\"]});\n        }\n    }\n\n\n\n\nreturn [null];","outputs":"1","noerr":0,"x":894.8333587646484,"y":378.4444980621338,"wires":[[]]},{"id":"e394508e.db86d","type":"ui_button","z":"5ac122e9.edb06c","name":"Preset Heating","group":"5f2a96a5.3dbd08","order":4,"width":"3","height":"1","passthru":true,"label":"Preset Heating","color":"#FFAAAA","bgcolor":"Grey","icon":"","payload":"preset heat","payloadType":"str","topic":"","x":362.4285583496094,"y":931.8571166992188,"wires":[["8bb1e45f.3a9418"]]},{"id":"4e74d202.6b920c","type":"link out","z":"5ac122e9.edb06c","name":"Link from Siri","links":["95cce6d5.27ac38"],"x":1120.8986616134644,"y":557.3452949523926,"wires":[]},{"id":"6963efeb.8d9ac","type":"inject","z":"5ac122e9.edb06c","name":"Cooling Up","topic":"","payload":"cool up","payloadType":"str","repeat":"","crontab":"","once":false,"x":152.1666717529297,"y":667.11110496521,"wires":[["e7294be5.9bfb28"]]},{"id":"57e01eed.78e83","type":"debug","z":"5ac122e9.edb06c","name":"","active":false,"console":"false","complete":"false","x":377.2857437133789,"y":45.14285850524902,"wires":[]},{"id":"248eb302.e4e6bc","type":"ui_button","z":"5ac122e9.edb06c","name":"Preset Cooling","group":"5f2a96a5.3dbd08","order":8,"width":"3","height":"1","passthru":true,"label":"Preset Cooling","color":"Blue","bgcolor":"Grey","icon":"","payload":"preset cool","payloadType":"str","topic":"","x":362.85716247558594,"y":891.7143402099609,"wires":[["8bb1e45f.3a9418"]]},{"id":"7e009f13.eaa2c","type":"debug","z":"5ac122e9.edb06c","name":"","active":false,"console":"false","complete":"false","x":555.3810424804688,"y":75,"wires":[]},{"id":"143d0dec.4c5162","type":"function","z":"5ac122e9.edb06c","name":"Aircon Feedback from AMX","func":"// seperate string in arrays and find how many elements in array\nvar msgdata = msg.payload.split(\" \");\n\nvar datalength = msgdata.length;\n\nfor (i = 0; i < msgdata.length; i++) // look for the words heat value\n    { \n    if (msgdata[i] == \"Heatset\")\n        {\n        var heat_index = i;\n        var aircon_mode = 'heat';\n        var heat_temp_value = msgdata[i+1];\n        node.send ({payload:[heat_temp_value]}); \n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the words cool value\n    { \n    if (msgdata[i] == \"Coolset\")\n        {\n        var heat_index = i;\n        var aircon_mode = 'cool';\n        var cool_temp_value = msgdata[i+1];\n        node.send ({payload:[cool_temp_value]}); \n        }\n    }\n\nfor (i = 0; i < msgdata.length; i++) // look for the words curent temp\n    { \n    if (msgdata[i] == \"CurrentTemp\")\n        {\n        var heat_index = i;\n        var temp_mode = 'Temp';\n        var current_temp_value = msgdata[i+1];\n        node.send ({payload:[temp_value]}); \n        }\n    }\n\nreturn [null];","outputs":"1","noerr":0,"x":1204.2856903076172,"y":663.3333349227905,"wires":[[]]},{"id":"63f69388.cc0efc","type":"inject","z":"5ac122e9.edb06c","name":"Heating On","topic":"","payload":"heat on","payloadType":"str","repeat":"","crontab":"","once":false,"x":151.1666717529297,"y":738.1111116409302,"wires":[["b99a196.2dd02e8"]]},{"id":"e7294be5.9bfb28","type":"ui_button","z":"5ac122e9.edb06c","name":"Cool Up","group":"5f2a96a5.3dbd08","order":6,"width":"3","height":"1","passthru":true,"label":"Cool Up","color":"#3FADB5","bgcolor":"#E6E0F8","icon":"","payload":"cool up","payloadType":"str","topic":"","x":324.61903381347656,"y":667.6666569709778,"wires":[["8bb1e45f.3a9418"]]},{"id":"1bb57379.4c08bd","type":"ui_gauge","z":"5ac122e9.edb06c","name":"Cool Set Point","group":"5f2a96a5.3dbd08","order":5,"width":"3","height":"3","gtype":"gage","title":"Cool Set","label":"celcius","format":"{{value}}","min":"10","max":"35","colors":["#ff0000","#e6e600","#80ff00"],"seg1":"17","seg2":"20","x":1183.0001487731934,"y":146.2857608795166,"wires":[]},{"id":"fadb86ce.386638","type":"inject","z":"5ac122e9.edb06c","name":"Heating Down","topic":"","payload":"heat down","payloadType":"str","repeat":"","crontab":"","once":false,"x":149.88095092773438,"y":630.1111373901367,"wires":[["77a88842.12fdc8"]]},{"id":"887c0fad.f0e15","type":"function","z":"5ac122e9.edb06c","name":"Get Heat Set Point Value","func":"// seperate string in arrays and find how many elements in array\nvar msgdata = msg.payload.split(\":\");\n\nvar datalength = msgdata.length;\n\nfor (i = 0; i < msgdata.length; i++) // look for the words cool value\n    { \n    if (msgdata[i] == \"TEMPS\")\n        {\n        var heat_index = i;\n        var temperature_mode = 'heatset';\n        //var current_temp_value = 22;\n        //var current_temp = msgdata[i+1];\n        var heatset_temp = msgdata[i+2];\n        //var coolset_temp = msgdata[i+3];\n        node.send ({payload:[heatset_temp]}); \n        }\n    }\n\nreturn [null];","outputs":"1","noerr":0,"x":870.0000381469727,"y":50.00001049041748,"wires":[["7040a93a.e0fa18","c00be90b.b10c78"]]},{"id":"f5f3d6df.a41328","type":"debug","z":"5ac122e9.edb06c","name":"","active":false,"console":"false","complete":"false","x":1029.0557479858398,"y":311.0000066757202,"wires":[]},{"id":"9d3be587.1b4aa8","type":"ui_gauge","z":"5ac122e9.edb06c","name":"Current Temperature","group":"5f2a96a5.3dbd08","order":9,"width":"3","height":"3","gtype":"gage","title":"Current Temperature","label":"celcius","format":"{{value}}","min":"10","max":"35","colors":["#00b500","#e6e600","#ca3838"],"seg1":"17","seg2":"19","x":1203.000144958496,"y":228.5714464187622,"wires":[]},{"id":"b56b6c66.25161","type":"link in","z":"5ac122e9.edb06c","name":"From Siri","links":["3a083f00.0e1a52","f5b0f59a.32a7f8"],"x":238.0238175392151,"y":74.19048404693604,"wires":[["3ee6c553.78f79a","8bb1e45f.3a9418","b99a196.2dd02e8","57e01eed.78e83"]]},{"id":"57b9c1f2.1d306","type":"debug","z":"5ac122e9.edb06c","name":"","active":false,"console":"false","complete":"false","x":1173.5716438293457,"y":187.14290046691895,"wires":[]},{"id":"5f2a96a5.3dbd08","type":"ui_group","z":"","name":"Air Conditioner","tab":"97c139b0.71bbd8","disp":true,"width":"6"},{"id":"97c139b0.71bbd8","type":"ui_tab","z":"","name":"Air Con","icon":"dashboard","order":5}]